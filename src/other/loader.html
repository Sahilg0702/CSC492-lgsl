<div class='middle'>
  <div class='bar bar1'></div>
  <div class='bar bar2'></div>
  <div class='bar bar3'></div>
  <div class='bar bar4'></div>
  <div class='bar bar5'></div>
  <div class='bar bar6'></div>
  <div class='bar bar7'></div>
  <div class='bar bar8'></div>
  <div class='center' id="text"></div>
  <div class='center' id="timer">00.000</div>
</div>
<style>
  .middle {top: 25%;left: 50%;transform: translate(-50%, -50%);position: absolute;}
  .bar {width: 10px;height: 60px;background: #fff;display: inline-block;transform-origin: bottom center;border-top-right-radius: 20px;border-top-left-radius: 20px;animation: loader 1.2s linear infinite;}
  .bar1 {animation-delay: 0.1s;}
  .bar2 {animation-delay: 0.2s;}
  .bar3 {animation-delay: 0.3s;}
  .bar4 {animation-delay: 0.4s;}
  .bar5 {animation-delay: 0.5s;}
  .bar6 {animation-delay: 0.6s;}
  .bar7 {animation-delay: 0.7s;}
  .bar8 {animation-delay: 0.8s;}

  @keyframes loader {
    0%   {transform: scaleY(0.1); background: ;}
    50%  {transform: scaleY(1.0); background: yellowgreen;}
    100% {transform: scaleY(0.1); background: transparent;}
  }
</style>
<script>
  document.addEventListener("DOMContentLoaded", reloadLocale);
  function reloadLocale() {
    let lang = !document.cookie ? "english" :
    document.cookie
      .split(';')
      .map(v => v.split('='))
      .reduce((acc, v) => {
        acc[decodeURIComponent(v[0].trim())] = decodeURIComponent(v[1].trim());
        return acc;
      }, {})
      ["lgsl_lang"] ?? "english";
    const langs = { // you can add here new other languages
      english: "Querying data"
    }
    let el = document.querySelector("div#text");
    if (el) {
      el.innerText = langs[lang] ?? langs["english"];
    }

    let startTime = performance.now();
    let stopped = false;
    function formatTime(ms) {
      const totalSeconds = Math.floor(ms / 1000);
      const seconds = String(totalSeconds % 60).padStart(2, '0');
      const milliseconds = String(Math.floor(ms % 1000)).padStart(3, '0');
      return `${seconds}.${milliseconds}`;
    }
    function update() {
      if (stopped) return;
      const timerEl = document.getElementById('timer');
      if (!timerEl) {stopped = true; return;}
      const now = performance.now();
      const elapsed = now - startTime;
      timerEl.textContent = formatTime(elapsed);
      requestAnimationFrame(update);
    }

    requestAnimationFrame(update);
  }
</script>